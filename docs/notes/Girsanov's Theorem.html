
<!DOCTYPE html>
    <head>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="../styles/styles.css">
        <link rel="icon" href="assets/icon.ico" />
        <meta name="google-site-verification" content="gGsyj98Hmr9mZj0-DQzJIAdOP3eJXZJZnM4_NF8Mai8" />
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"> 
        <title>Mara Daniels - MIT</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
            onload="renderMathInElement(document.body, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false},
                ],
                macros: {
                    '\\saeq': '\\{#1\\}',
                    '\\linf': '\\lim_{n \\to \\infty}',
                    '\\Alpha': '\\mathcal{A}',
                    '\\norm': '\\left\\lVert#1\\right\\rVert',
                    '\\ct': 'C^\\infty_c ( #1 )',
                    '\\lloc': 'L^1_{\\mathsf{loc}}( #1 )',
                    '\\Scr': '\\mathscr{S}',
                    '\\tmpr': '\\mathscr{S}',
                    '\\limnf': '\\liminf \\limits_{#1}',
                    '\\limsp': '\\limsup \\limits_{#1}',
                    '\\R': '{\\mathbb R}',
                    '\\C': '{\\mathbb C}',
                    '\\N': '{\\mathbb N}',
                    '\\Q': '{\\mathbb Q}',
                    '\\H': '{\\mathbb H}',
                    '\\S': '{\\mathbb S}',
                    '\\Z': '{\\mathbb Z}',
                    '\\E': '{\\mathbb E}',
                    '\\Var': '\\mathsf{Var}',
                    '\\Cov': '\\mathsf{Cov}',
                    '\\KL': '\\mathsf{KL}',
                    '\\Ent': '\\mathsf{Ent}',
                    '\\F': '{\\mathbb F}',
                    '\\Acl': '\\mathcal{A}',
                    '\\Bcl': '\\mathcal{B}',
                    '\\Ccl': '\\mathcal{C}',
                    '\\Dcl': '\\mathcal{D}',
                    '\\Ecl': '\\mathcal{E}',
                    '\\Fcl': '\\mathcal{F}',
                    '\\Gcl': '\\mathcal{G}',
                    '\\Hcl': '\\mathcal{H}',
                    '\\Jcl': '\\mathcal{J}',
                    '\\Kcl': '\\mathcal{K}',
                    '\\Lcl': '\\mathcal{L}',
                    '\\Mcl': '\\mathcal{M}',
                    '\\Ncl': '\\mathcal{N}',
                    '\\Ocl': '\\mathcal{O}',
                    '\\Pcl': '\\mathcal{P}',
                    '\\Qcl': '\\mathcal{Q}',
                    '\\Rcl': '\\mathcal{R}',
                    '\\Scl': '\\mathcal{S}',
                    '\\Tcl': '\\mathcal{T}',
                    '\\Ucl': '\\mathcal{U}',
                    '\\Vcl': '\\mathcal{V}',
                    '\\Wcl': '\\mathcal{W}',
                    '\\Xcl': '\\mathcal{X}',
                    '\\Ycl': '\\mathcal{Y}',
                    '\\Zcl': '\\mathcal{Z}',
                    '\\diag': '\\mathrm{diag}',
                    '\\supp': '\\mathrm{supp}',
                    '\\diam': '\\mathrm{diam}',
                    '\\sgn': '\\mathrm{sgn}',
                    '\\im': '\\mathrm{Im}',
                    '\\lcm': '\\mathrm{lcm}',
                    '\\aut': '\\mathrm{Aut}',
                    '\\inn': '\\mathrm{Inn}',
                    '\\rg': '\\mathrm{rg}',
                    '\\vol': '\\mathrm{vol}',
                    '\\Pr': '\\mathrm{Pr}',
                    '\\Tr': '\\mathrm{Tr}',
                    '\\eps': '\\varepsilon',
                    '\\charfct': '\\mathds{1}',
                    '\\nullfct': '{\\bf 0}',
                    '\\as': '\\text{a.s.}\\xspace',
                    '\\argmax': '\\mathop{\\mathrm{arg\\,max}}',
                    '\\argmin': '\\mathop{\\mathrm{arg\\,min}}',
                    '\\esssup': '\\mathop{\\mathrm{ess\\,sup}}',
                    '\\th': '\\hat{\\theta}',
                    '\\pto': '\\stackrel{p}{\\longrightarrow}',
                    '\\dto': '\\stackrel{d}{\\longrightarrow}',
                    '\\asto': '\\stackrel{a.s.}{\\longrightarrow}',
                    '\\coloneqq': ':='
                }
            });">
            </script>
    </head>
    <body>
        <div class="row">
            <div class="col-lg-12 col-xl-8 offset-xl-2"> 
            <h1>Girsanov's Theorem</h1>
<p>
Consider a filtered probability space $(\Omega, (\Fcl_t)_{t \geq 0}, P)$ and suppose that there is another measure $Q$ on $(\Omega, (\Fcl_t)_{t \geq 0})$ such that $P, Q$ are mutually absolutely continuous. A process $X$ that is a continuous local martingale w.r.t. $P$ may no longer be a local martingale under $Q$. Girsanov's Theorem describes how the change of measure from $P$ to $Q$ affects the class of continuous local martingales. It turns out that, under mild conditions, this change of measure corresponds to adding a finite variation 'adjustment' to $X$. Consequently, the class of <a href="Continuous Semi-martingales.html">continuous semimartingales</a> is closed under a.c. changes of measure!
</p>
<p>
The following preliminary theorem describes how $dP/dQ$ interacts with $(\Fcl_t)_{t \geq 0}$.
</p>
<hr />
<p>
<strong>Theorem (filtered density ratio)</strong>. Suppose that $(\Fcl_t)_{t \geq 0}$ is complete and right-continuous and let $Q$ be an a.c. measure with respect to $P$ on $\Fcl_\infty$. For each $t \in [0, \infty]$, define the random variable
$$
D_t(\omega) \coloneqq \frac{dQ}{dP} \bigg|_{\Fcl_t}(\omega)
$$
where $dQ/dP \mid_{\Fcl_t}$ is the Radon-Nikodym derivative of $Q, P$ restricted to $\Fcl_t$. Then, these random variables form a u.i. martingale that is closed by $D_\infty(\omega) = dQ/dP(\omega)$. Under the assumptions on $(\Fcl_t)_{t \geq 0}$, this implies further that $D_t$ has cádlág sample paths (cf. <a href="Continuous-time Martingales.html#martingale-regularity">martingale regularity</a>).
</p>
<p>
Moreover, if $P, Q$ are <em>mutually a.c.</em> on $\Fcl_\infty$, then
$$
\inf_{t \geq 0} D_t > 0, \qquad \text{$P$ a.s.}
$$
</p>
<hr />
<p>
<em>Remark</em>. it's a bit hard to conceptualize what exactly is $dQ/dP\mid_{\Fcl_t}(\omega)$. By definition, for each $t \geq 0$ it is the function from $\Omega \to \R_+$ such that
$$
Q(A) = \int_{A} \frac{dQ}{dP}(\omega) \, dP(\omega) \qquad \text{for each $A \in \Fcl_t$}
$$
but it may be unclear how changing the set of allowable $A \in \Fcl_t$ affects the values that $D_t(\omega)$ should take on individual $\omega \in \Omega$. The previous theorem is illuminating:
$$
D_t = \E\left[ \frac{dQ}{dP}(\omega) \mid \Fcl_t\right].
$$
Given $\omega \in \Omega$, we see that $D_t$ is an average over all the $\omega' \in \Omega$ that agree with $\omega$ up to time $t \geq 0$.
</p>
<p>
<em>Proof</em>. first, by definition of the conditional expectation, we have for any $A \in \Fcl_t$ that
$$
\E_Q[1_A] = \E_P[1_A \, D_\infty] = \E_P\left[ 1_A \E\left[ D_\infty \mid \Fcl_t\right]\right]
$$
and so it follows by uniqueness of the Radon-Nikodym derivative that $D_t(\omega) = \E[D_\infty \mid \Fcl_t](\omega)$ for $P$-a.e. $\omega \in \Omega$. Moreover, the fact that $D_t$ is closed by $D_\infty$ automatically implies that $D$ is a u.i. martingale.
</p>
<p>
Whenever $P, Q$ are mutually a.c., we can define the stopping time $T_n = \inf\{t \geq 0 : D_t < 1/n\}$ (one should check it is indeed a stopping time! cf. <a href="Stopping Time.html#entry-times">entry times</a> – it is here we use right continuity of $\Fcl_t$). Then, by optional stopping,
$$
\begin{aligned}
Q(T_n < \infty) = \E_P[1_{T_n} D_{\infty}] = \E_P[1_{T_n} \E[D_\infty \mid \Fcl_{T_n}]] = \E_P[T_n D_{T_n} ]= \frac{1}{n} P(T_n < \infty) \leq \frac{1}{n}
\end{aligned}
$$
which implies that
$$
Q\left( \bigcap_{n \geq 1}\{T_n < \infty\}\right) = 0 = P\left( \bigcap_{n = 1}^\infty \{T_n < \infty \}\right).
$$ <span class="qed" />
</p>
<p>
Now we can state Girsanov's theorem.
</p>
<hr />
<p>
**Theorem (Girsanov)**. Suppose that $(\Fcl_t)_{t \geq 0}$ is complete and right-continuous and let $P, Q$ be mutually a.c. measures on $\Fcl_\infty$. Let $(D_t)_{t \geq 0}$ be be the cádlág martingale such that, for $t \geq 0$,
$$
D<em>t(\omega) = \frac{dQ}{dP}\bigg|</em>{\Fcl_t}(\omega).
$$
Assume that $(D_t)_{t \geq 0}$ has <em>continuous</em> sample paths, and let $L$ be the unique continuous local martingale such that $D_t = \Ecl(L)_t$, or equivalently,
$$
L<em>t = \log D</em>0 + \int<em>0^t \frac{d D</em>s}{D_s}.
$$
Then, if $M$ is a continuous local martingale under $P$, the process $\tilde{M} = M - \langle M, L \rangle$ is a continuous local martingale under $Q$.
</p>
<hr />
<p>
<em>Proof</em>. the fact that there exists a martingale $L$ such that $D_t = \Ecl(L)_t$ is proven [[Exponential Martingale|here]]. The key idea of the theorem is the observation that, if there $P$-martingale of the form $(M_t D_t)_{t \geq 0}$, then the process $(M_t)_{t \geq 0}$ must be a $Q$-martingale, since for any $A \in \Fcl_s$ and $t > s$,
$$
\E<em>P[1</em>A M<em>t D</em>t ] = \E<em>Q[1</em>A M<em>t ] = \E</em>Q[1<em>A M</em>s] = \E<em>P[1</em>A M<em>s D</em>s].
$$
Integrating with Itô's formula yields
$$
M<em>t D</em>t = M<em>0 D</em>0 + \int<em>0^t M</em>s \, d D<em>s + \int</em>0^t D<em>s \, d M</em>s + \langle M, D \rangle_t.
$$
It turns out that we can 'adjust' $M$ to eliminate the finite variation part of the right hand side. Observe that
$$
\langle M, D \rangle<em>t = \langle M, \Ecl(L)\rangle</em>t = \int<em>0^t \Ecl(L)</em>s \, d \langle M , L \rangle<em>s = \int</em>0^t D<em>s\,  d \langle M, L \rangle</em>s
$$
so that
$$
M<em>t D</em>t = M<em>0 D</em>0 + \int<em>0^t M</em>s \, d D<em>s + \int</em>0^t D<em>s \, d [ M + \langle M, L \rangle]</em>s
$$
and, as a consequence, replacing $M_t$ by $\tilde{M}_t = M_t - \langle M, L \rangle_t$ yields
$$
\begin{align*}
\tilde{M}<em>t D</em>t& = \tilde{M}<em>0 D</em>t + \int<em>0^t \tilde{M}</em>s \, d D<em>s + \int</em>0^t D<em>s \, d M</em>s - \langle \langle M, L \rangle, L \rangle_t\\
& = \tilde{M}<em>0 D</em>t + \int<em>0^t \tilde{M}</em>s \, d D<em>s + \int</em>0^t D<em>s \, d M</em>s
\end{align*}
$$
since the bracket of a finite variation process is zero.
</p>
<p>
It remains to prove that the above reasoning still holds when $M$ is a continuous local martingale instead of a true martingale. As above, let $A \in \Fcl_s$ and $t > s$. Let $T$ be a stopping time of $P$ and suppose $(XD)^T$ is a $P$-martingale. Then,
$$
\E<em>Q[X^T</em>t 1<em>A] = \E</em>Q[X^T<em>t \, 1</em>{A \cap \{T \leq s\}}] + \E<em>Q[X^T</em>t \,1_{A \cap \{T > s\}}]
$$
and we have
$$
\begin{align*}
\E<em>Q[X^T</em>t\,  1<em>{A \cap \{T \leq s\}}] & = \E</em>P [ 1<em>{A \cap \{T \leq s\}} \, \E</em>P[X^T<em>t D</em>t\mid \Fcl<em>s] ] = \E</em>P[ 1<em>{A \cap \{T \leq s\}}\, X^T</em>s D<em>s] = \E</em>Q[X^T<em>s  \, 1</em>{A \cap \{T \leq s\}}]
\end{align*}
$$
whereas, since $A \cap \{T > s \} \in \Fcl_T$, we have by optional stopping that
$$
\begin{align*}
\E<em>Q[X^T</em>t \, 1<em>{A \cap \{T > s\}}]  = \E</em>P[X<em>t^T D</em>t \, 1<em>{A \cap \{T > s\}}] &= \E</em>P[X<em>t^T \,  1</em>{A \cap \{T > s\}} \, \E[D<em>t \mid \Fcl</em>{T \land t}] ]  \\
& = \E<em>P[(XD)^T</em>t\,  1_{A \cap \{T > s\}}] \\
& = \E<em>P[(XD)^T</em>s \, 1_{A \cap \{T > s\}}]] \\
& = \E<em>Q[X^T</em>s \, 1_{A \cap \{T > s\}}].
\end{align*}
$$
and so the claim follows. <span class="qed" />
</p>
<h2 id="computing-density-ratios-with-girsanovs-theorem">Computing density ratios with Girsanov's theorem</h2>
<p>
It is common to apply Girsanov's theorem in situations where $L$, rather than $Q$, is given. The goal is then to verify that $\Ecl(L)$ is a u.i. martingale, that $\E[\Ecl(L)_0] = \E[\Ecl(L)_\infty] = 1$, and hence that the measure
$$
Q(A) \coloneqq \int<em>A \Ecl(L)</em>\infty(\omega) \,  d P(\omega)
</p>
            </div>
        </div>
        <div class="row">
        <p style="text-align: right; width:100%"><i><a href="../miscellany.html">Back...</a></i></p>
        </div>
    </body>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>
</html>
