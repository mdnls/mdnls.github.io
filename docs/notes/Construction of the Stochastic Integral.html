
<!DOCTYPE html>
    <head>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="../styles/styles.css">
        <link rel="icon" href="assets/icon.ico" />
        <meta name="google-site-verification" content="gGsyj98Hmr9mZj0-DQzJIAdOP3eJXZJZnM4_NF8Mai8" />
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"> 
        <title>Mara Daniels - MIT</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
            onload="renderMathInElement(document.body, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false},
                ],
                macros: {
                    '\\saeq': '\\{#1\\}',
                    '\\linf': '\\lim_{n \\to \\infty}',
                    '\\Alpha': '\\mathcal{A}',
                    '\\norm': '\\left\\lVert#1\\right\\rVert',
                    '\\ct': 'C^\\infty_c ( #1 )',
                    '\\lloc': 'L^1_{\\mathsf{loc}}( #1 )',
                    '\\Scr': '\\mathscr{S}',
                    '\\tmpr': '\\mathscr{S}',
                    '\\limnf': '\\liminf \\limits_{#1}',
                    '\\limsp': '\\limsup \\limits_{#1}',
                    '\\R': '{\\mathbb R}',
                    '\\C': '{\\mathbb C}',
                    '\\N': '{\\mathbb N}',
                    '\\Q': '{\\mathbb Q}',
                    '\\H': '{\\mathbb H}',
                    '\\S': '{\\mathbb S}',
                    '\\Z': '{\\mathbb Z}',
                    '\\E': '{\\mathbb E}',
                    '\\Var': '\\mathsf{Var}',
                    '\\Cov': '\\mathsf{Cov}',
                    '\\KL': '\\mathsf{KL}',
                    '\\Ent': '\\mathsf{Ent}',
                    '\\F': '{\\mathbb F}',
                    '\\Acl': '\\mathcal{A}',
                    '\\Bcl': '\\mathcal{B}',
                    '\\Ccl': '\\mathcal{C}',
                    '\\Dcl': '\\mathcal{D}',
                    '\\Ecl': '\\mathcal{E}',
                    '\\Fcl': '\\mathcal{F}',
                    '\\Gcl': '\\mathcal{G}',
                    '\\Hcl': '\\mathcal{H}',
                    '\\Jcl': '\\mathcal{J}',
                    '\\Kcl': '\\mathcal{K}',
                    '\\Lcl': '\\mathcal{L}',
                    '\\Mcl': '\\mathcal{M}',
                    '\\Ncl': '\\mathcal{N}',
                    '\\Ocl': '\\mathcal{O}',
                    '\\Pcl': '\\mathcal{P}',
                    '\\Qcl': '\\mathcal{Q}',
                    '\\Rcl': '\\mathcal{R}',
                    '\\Scl': '\\mathcal{S}',
                    '\\Tcl': '\\mathcal{T}',
                    '\\Ucl': '\\mathcal{U}',
                    '\\Vcl': '\\mathcal{V}',
                    '\\Wcl': '\\mathcal{W}',
                    '\\Xcl': '\\mathcal{X}',
                    '\\Ycl': '\\mathcal{Y}',
                    '\\Zcl': '\\mathcal{Z}',
                    '\\diag': '\\mathrm{diag}',
                    '\\supp': '\\mathrm{supp}',
                    '\\diam': '\\mathrm{diam}',
                    '\\sgn': '\\mathrm{sgn}',
                    '\\im': '\\mathrm{Im}',
                    '\\lcm': '\\mathrm{lcm}',
                    '\\aut': '\\mathrm{Aut}',
                    '\\inn': '\\mathrm{Inn}',
                    '\\rg': '\\mathrm{rg}',
                    '\\vol': '\\mathrm{vol}',
                    '\\Pr': '\\mathrm{Pr}',
                    '\\Tr': '\\mathrm{Tr}',
                    '\\eps': '\\varepsilon',
                    '\\charfct': '\\mathds{1}',
                    '\\nullfct': '{\\bf 0}',
                    '\\as': '\\text{a.s.}\\xspace',
                    '\\argmax': '\\mathop{\\mathrm{arg\\,max}}',
                    '\\argmin': '\\mathop{\\mathrm{arg\\,min}}',
                    '\\esssup': '\\mathop{\\mathrm{ess\\,sup}}',
                    '\\th': '\\hat{\\theta}',
                    '\\pto': '\\stackrel{p}{\\longrightarrow}',
                    '\\dto': '\\stackrel{d}{\\longrightarrow}',
                    '\\asto': '\\stackrel{a.s.}{\\longrightarrow}',
                    '\\coloneqq': ':='
                }
            });">
            </script>
    </head>
    <body>
        <div class="row">
            <div class="col-lg-12 col-xl-8 offset-xl-2"> 
            <h1>Construction of the Stochastic Integral</h1>
<p>
Let $M$ be a square integrable continuous martingale (in the sense $\E[\langle M \rangle_\infty] < \infty$) for which $M_0 = 0$ almost surely. We can associate to $M$ an $\Lcl^2$ space of progressive processes, and inside of this space, it is straightforward to replicate the construction of the Lebesgue integral.
</p>
<p>
Define $\Lcl^2(M) = \Lcl^2(\Omega \otimes \R_+, \Pcl, P \otimes d\langle M\rangle)$, where $\Pcl$ is the <a href="Stochastic Processes.html#time-dependent-processestime-dependent-processes">progressive sigma algebra</a>, $P$ is the underlying measure on $\Omega$, and $d \langle M \rangle$ is the <a href="Finite-variation Function.html">variation measure</a> associated to $\langle M \rangle_t$. This space can also be written explicitly as
$$
\Lcl^2(M) \coloneqq \left\{ H \text{ progressive} : \E\left[ \int H_s^2 \, d \langle M\rangle_s \right] < \infty\right\}
$$
where the expectation is taken with respect to $P$.
</p>
<hr />
<p>
<strong>Proposition (integration in $\Lcl^2(M)$)</strong>. Consider the set $\Ecl$ of <em>simple processes</em> of the form,
$$
H_s = \sum_{i=1}^k Z_i \cdot 1 \{ t_i \geq s > t_{i-1}\} \qquad Z_i \text{ is bounded, $\Fcl_{t_i}$-measurable}
$$
and define the corresponding stochastic integral $(H \cdot M)_t$ by,
$$
(H \cdot M)_t = \sum_{i=1}^k Z_i (M_{t_i} - M_{t_{i-1}}) \cdot 1\{t_i > t \}
$$
Then we have:
</p>
<ol>
<li>The simple processes $\Ecl$ are dense in $\Lcl^2(M)$.
</li>
<li>The mapping $H \mapsto H \cdot M$ extends by continuity to a mapping on all of $\Lcl^2(M)$.
</li>
</ol>
<hr />
<p>
This proposition is proven in Section 5.1 of <a href="LeGall.html">LeGall</a>. At this stage, it would be helpful to define the integral with respect to $M$ in a way that doesn't depend on $M$ through the ambient space $\Lcl^2(M)$. Let $\H$ be the space of square integrable continuous martingales $M$ with $M_0 = 0$. It turns out that $\H$ is a Hilbert space under the inner product given by the <a href="Quadratic Variation.html">bracket of two stochastic processes</a>.
</p>
<hr />
<p>
<strong>Definition (square integrable continuous martingales)</strong>. Let $\H$ be the set of continuous martingales with $M_0 = 0$ and which have,
$$
\|M \|_{\H}^2 \coloneqq \E[\langle M \rangle_\infty]  < \infty.
$$
This space is a Hilbert space with respect to the inner product $\langle M, N \rangle_\H = \langle M, N \rangle_\infty$.
</p>
<hr />
<p>
<em>Proof sketch</em>. The main content of this statement is that $\H$ is complete in the sense that Cauchy convergent sequences have limit points in $\H$. If the sequence $(M^k)_{t \geq 1}$ is Cauchy in $\H$, then we have
$$
\lim_{m, n \to \infty} \|M^m - M^n\|_\H^2 = \lim_{m, n\to \infty} \E[(M^n_\infty - M^m_\infty)^2] = 0
$$
which implies that $M_\infty^n$ converges in $\Lcl^2$ to a limit $M_\infty$. We must check that the entire <em>process</em> $(M_t^n)_{t \geq 0}$ converges to a square integrable continuous martingale. By <a href="Doob's Lp Inequality.html">Doob's L2 Inequality</a>,
$$
\E\left[ \sup_{t \geq 0} (M_t^n - M_t^m)^2\right] \leq 4 \E[(M_\infty^n - M_\infty^m)^2] \to 0,
$$
and so we may hope to invoke uniform convergence (in time) to conclude the proof. Let $n_k$ be a subsequence which grows fast enough that,
$$
\sum_{k = 1}^\infty \E[\sup_{t \geq 0} (M_t^{n_{k+1}} - M_t^{n_k})^2]^{1/2} < \infty,
$$
then we have
$$
\E\underbrace{\left[ \sum_{k=1}^\infty \sup_{t \geq 0} |M_t^{n_{k+1}} - M_t^{n_k}| \right]}_{(*)} \leq \sum_{k=1}^\infty \E[\sup_{t \geq 0} |M_t^{n_{k+1}} - M_t^{n_k}|^2]^{1/2} < \infty
$$
</p>
<p>
which forces the integrand $(*)$ to be finite a.s. We now have that,
</p>
<ol>
<li>The process $M_t \coloneqq \lim_{k \to \infty} M_t^{n_k}$ is continuous with $M_0 = 0$. Under the assumption that $\Fcl_t$ is complete, then on the negligible event where uniform convergence does not hold, we can set $M_t = 0$, and the resulting process remains adapted.
</li>
<li>Also by uniform convergence, we have $\lim_{t \to \infty} M_t = \lim_{k \to \infty} \lim_{t \to \infty} M^{n_k}_t = M_\infty$ where the convergence is in $\Lcl^2$. By similar arguments it follows $M_t = \E[M_\infty \mid \Fcl_t]$, so $M_t$ is a square integrable martingale and it is the limit of $M^n$ in $\H$.
</li>
</ol>
<p>
<span class="qed" />
</p>
<hr />
<p>
<strong>Theorem (Itô isometry)</strong>. let $M \in \H$ and let $\Ecl$ be the set of simple processes. Then for $H \in \Ecl$, the integral $H \cdot M \in \H$, and in fact the mapping $H \mapsto H \cdot M$ extends uniquely to an isometry from $\Lcl^2(M)$ into $\H$.
</p>
<p>
Furthermore, $H \cdot M$ is the unique martingale of $\H^2$ for which
$$
\langle H \cdot M, N \rangle = H \cdot \langle M, N \rangle \qquad \forall N \in \H.
$$
</p>
<hr />
<p>
<em>Proof</em>. the proof of this statement amounts to checking that for $H$ of the form,
$$
(H \cdot M)_t = \sum_{i=1}^k Z_i (M_{t_i} - M_{t_{i-1}}) \cdot 1\{t_i > t \}
$$
it holds that
$$
\begin{aligned}
\langle H \cdot M, H \cdot M \rangle_t & = \sum_{i,j=1}^k Z_i Z_j \langle M_{t_i \land t} - M_{t_{i-1} \land t}, M_{t_j \land t} - M_{t_{j-1} \land t}\rangle \\
& = \sum_{i=1}^k Z_i^2 (\langle M \rangle_{t_i \land t} - \langle M \rangle_{t_{i-1}\land t}) \\
& = \int_0^t H_s^2 \, d \langle M \rangle_s
\end{aligned}
$$
which implies that $\|H \cdot M \|_\H^2 = \|H \|_{\Lcl^2(M)}^2$. The fact that $H \mapsto H \cdot M$ admits a unique extension follows from linearity, from density of $\Ecl$ in $\Lcl^2(M)$, and from the fact that $\H$ is a Hilbert space.
</p>
<p>
To prove the second property, consider first the case that $H \in \Ecl$. Then, by linearity of the <a href="Quadratic Variation.html">bracket</a>,
$$
\begin{aligned}
\langle H \cdot M, N \rangle_t & = \sum_{i=1}^p Z_i (\langle M^{t_i}, N \rangle_t - \langle M^{t_{i-1}} , N \rangle_t)
\end{aligned}
$$
and so
$$
\langle H \cdot M, N \rangle_\infty = \sum_{i=1}^p Z_i(\langle M, N\rangle_{t_i} - \langle M, N \rangle_{t_{i-1}}\rangle) = H \cdot \langle M, N \rangle_\infty.
$$
This equality is for infinite times, but replacing $N$ with $N^t$ yields
$$\langle H \cdot M, N\rangle_t = \langle H \cdot M, N^t \rangle_\infty = H \cdot \langle M, N^t \rangle_\infty = (H \cdot \langle M, N \rangle )_t. $$
It remains to prove that $H \mapsto \langle H \cdot M, N \rangle$ and $H \mapsto H \cdot \langle M, N \rangle$ are both continuous with respect to the $\Lcl^2(M)$ metric. For the former, it is by construction that $H^{(n)}\to H \implies H^{(n)}\cdot M \to H \cdot M$ in $\H$, and by <a href="Kunita-Watanabe Inequality.html">Kunita-Watanabe</a>, whenever $M^{(n)} \to M$ in $\H$ it follows that
$$
\E[|\langle M^{(n)} - M, N \rangle_\infty |] \leq \|M^{(n)}- M\|_\H \|N \|_\H \to 0.
$$
</p>
<p>
For the latter, again by <a href="Kunita-Watanabe Inequality.html">Kunita-Watanabe</a>,
$$
\begin{aligned}
\E[((H - H^{(n)}) \cdot \langle M, N \rangle)_\infty ^2] &  \leq \E \left[ \langle N \rangle_\infty \cdot \int (H - H^{(n)})_s^2 \, d \langle M \rangle _ s \right] \\
& \leq \|N\|_{\H}^2\  \|H - H^{(n)}\|_{\Lcl^2(M)}^2
\end{aligned}
$$
which converges to zero as $n \to \infty$. <span class="qed" />
</p>
<p>
Note that the mapping $N \mapsto H \cdot \langle M, N \rangle$ defines a continuous linear function on $\H$. The integral $H \cdot M$ can also be viewed as the Reisz representer of this function and we could have even defined the stochastic integral this way!
</p>
<p>
In the above explicit construction, it's a bit unclear which parts are 'doing the work.' The point of the construction of $\Lcl^2(M)$ to give a simple and explicit definition of the values that $H \cdot M$ should take. Its values are given by the limit of simple process approximations of $H$. However, we must also check that the result is itself a continuous martingale. Instead of checking explicitly, we introduce the Itô isometry, and use the fact that $\H$ is complete to deduce the existence of a limit that is a continuous martingale.
</p>
<h2 id="integrating-semi-martingales">Integrating semi-martingales</h2>
<p>
We can generalize the above construction to <a href="Continuous Semi-martingales.html">Continuous Semi-martingales</a>. We will need to define an appropriate notion of integration with respect to a continuous local martingale $M$. Assume (for now) that $H \mapsto H \cdot M$ can be defined in a sensible way when $M$ is a continuous local martingale. Then we have,
</p>
<hr />
<p>
<strong>Definition</strong>. Let $X = M + V$ be a continuous semimartingale with local martingale part $M$ and finite variation part $V$. Let $H$ be a progressive process that is <em>locally bounded:</em> for each $t \geq 0$,
$$
\sup_{0 \leq s \leq t} |H_s| < \infty \qquad P\text{-a.s.}
$$
Then the stochastic integral $H \cdot X$ is the unique continuous semi-martingale given by,
$$
H \cdot X = H \cdot M + H \cdot V
$$
and it satisfies the properties that,
</p>
<ul>
<li>Associativity: if $H, K$ are both progressive and locally bounded, $H \cdot (K \cdot M) = HK \cdot X$.
</li>
<li>Stopping times commute: $(H \cdot X)^T = (H \, 1_\{[0, T]\}) \cdot X = H \cdot X^T$.
</li>
</ul>
<hr />
<p>
It remains to define the stochastic integral for continuous local martingales.
</p>
<hr />
<p>
<strong>Theorem (integrating local martingales)</strong>. Let $M$ be a continuous local martingale. We define the associated spaces
$$
\begin{aligned}
\Lcl^2(M)& = \left\{ H \text{ progressive} : \E \left [ \int_0^\infty H_s^2 \, d \langle M \rangle_s \right]< \infty\right\}\\
\Lcl^2_{\text{loc}}(M)& = \left\{ H \text{ progressive} : \forall \, t \geq 0,\ \E \left [ \int_0^t H_s^2 \, d \langle M \rangle_s \right]< \infty\right\}
\end{aligned}
$$
</p>
<p>
For each $H \in \Lcl^2_{\text{loc}}(M)$, there exists a unique continuous local martingale $H\cdot M$ such that, for every continuous local martingale $N$,
$$
\langle N, H \cdot M\rangle = H \cdot \langle M, N \rangle.
$$
and it satisfies the properties that,
</p>
<ul>
<li>Associativity: if $H \in \Lcl^2_{\text{loc}}(M)$ and $K$ is progressive, then $K \in \Lcl^2_{\text{loc}}(H \cdot M)$ iff $KH \in \Lcl^2_{\text{loc}}(M)$, and in this case $H \cdot (K \cdot M) = HK \cdot X$.
</li>
<li>Stopping times commute: $(H \cdot M)^T = (H \, 1_\{[0, T]\}) \cdot M = H \cdot M^T$.
</li>
</ul>
<hr />
<p>
<em>Proof sketch</em>. consider the stopping times $T_n$ defined by,
$$
T_n = \inf \left\{ t \geq 0 : \int_0^t (1 + H_s^2) \, d \langle M \rangle_s \geq n \right\}
$$
Then, show that $T_n$ localizes $M$ and that the integral $(H \cdot M^{T_n})_t = (H \cdot M)^{T_n}_t$ makes sense.
</p>
            </div>
        </div>
        <div class="row">
        <p style="text-align: right; width:100%"><i><a href="../miscellany.html">Back...</a></i></p>
        </div>
    </body>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>
</html>
